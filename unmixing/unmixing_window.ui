<?xml version="1.0" encoding="UTF-8"?>
<ui version="4.0">
 <class>GroundTruthWidget</class>
 <widget class="QWidget" name="GroundTruthWidget">
  <property name="geometry">
   <rect>
    <x>0</x>
    <y>0</y>
    <width>1508</width>
    <height>815</height>
   </rect>
  </property>
  <property name="sizePolicy">
   <sizepolicy hsizetype="Preferred" vsizetype="Preferred">
    <horstretch>0</horstretch>
    <verstretch>0</verstretch>
   </sizepolicy>
  </property>
  <property name="maximumSize">
   <size>
    <width>16777215</width>
    <height>16777215</height>
   </size>
  </property>
  <property name="styleSheet">
   <string notr="true">background-color: rgb(181, 181, 181);</string>
  </property>
  <layout class="QVBoxLayout" name="verticalLayout" stretch="0,6">
   <item>
    <widget class="QFrame" name="frame">
     <property name="autoFillBackground">
      <bool>false</bool>
     </property>
     <property name="frameShape">
      <enum>QFrame::StyledPanel</enum>
     </property>
     <property name="frameShadow">
      <enum>QFrame::Raised</enum>
     </property>
     <layout class="QHBoxLayout" name="horizontalLayout_2" stretch="0,0,0,0,0,0,0,0,0,0,0,0,0">
      <item>
       <widget class="Line" name="line_4">
        <property name="orientation">
         <enum>Qt::Vertical</enum>
        </property>
       </widget>
      </item>
      <item>
       <layout class="QVBoxLayout" name="verticalLayout_7">
        <item>
         <widget class="QPushButton" name="load_btn">
          <property name="toolTip">
           <string>Load cube

Open a hyperspectral cube (VNIR, SWIR, or fused VNIR+SWIR). The cube becomes the target data for endmember extraction, unmixing, and visualization.</string>
          </property>
          <property name="text">
           <string>Load Cube</string>
          </property>
         </widget>
        </item>
        <item>
         <widget class="QLabel" name="label_cube_file">
          <property name="sizePolicy">
           <sizepolicy hsizetype="Minimum" vsizetype="Preferred">
            <horstretch>0</horstretch>
            <verstretch>0</verstretch>
           </sizepolicy>
          </property>
          <property name="maximumSize">
           <size>
            <width>16777215</width>
            <height>20</height>
           </size>
          </property>
          <property name="toolTip">
           <string>Cube filename</string>
          </property>
          <property name="text">
           <string>No Cube File</string>
          </property>
          <property name="alignment">
           <set>Qt::AlignCenter</set>
          </property>
         </widget>
        </item>
        <item>
         <widget class="QPushButton" name="pushButton_load_one_spectrum">
          <property name="toolTip">
           <string>Load one spectrum

Load a single spectrum file and display it in the spectrum panel for quick comparison with endmembers. This does not modify the cube.</string>
          </property>
          <property name="text">
           <string>Load One Spectrum</string>
          </property>
         </widget>
        </item>
        <item>
         <widget class="QLabel" name="label_one_spectrum">
          <property name="sizePolicy">
           <sizepolicy hsizetype="Minimum" vsizetype="Preferred">
            <horstretch>0</horstretch>
            <verstretch>0</verstretch>
           </sizepolicy>
          </property>
          <property name="maximumSize">
           <size>
            <width>16777215</width>
            <height>20</height>
           </size>
          </property>
          <property name="toolTip">
           <string>Name of the sample loaded</string>
          </property>
          <property name="text">
           <string>No sample</string>
          </property>
          <property name="alignment">
           <set>Qt::AlignCenter</set>
          </property>
         </widget>
        </item>
       </layout>
      </item>
      <item>
       <widget class="Line" name="line">
        <property name="orientation">
         <enum>Qt::Vertical</enum>
        </property>
       </widget>
      </item>
      <item>
       <layout class="QVBoxLayout" name="verticalLayout_16">
        <item>
         <widget class="QPushButton" name="pushButton_load_FTIR">
          <property name="toolTip">
           <string>Load FTIR reference

Load an FTIR spectrum to compare its shape against hyperspectral endmembers / pixel spectra. The tool can optionally convert wavenumber↔wavelength for plotting.</string>
          </property>
          <property name="text">
           <string>Add FTIR spectrum</string>
          </property>
         </widget>
        </item>
        <item>
         <widget class="QLabel" name="label_ftir_file">
          <property name="maximumSize">
           <size>
            <width>16777215</width>
            <height>20</height>
           </size>
          </property>
          <property name="toolTip">
           <string>FTIR spectrum filename</string>
          </property>
          <property name="text">
           <string>No FTIR File</string>
          </property>
          <property name="alignment">
           <set>Qt::AlignCenter</set>
          </property>
         </widget>
        </item>
        <item>
         <widget class="QLabel" name="label_ftir_sample">
          <property name="maximumSize">
           <size>
            <width>16777215</width>
            <height>20</height>
           </size>
          </property>
          <property name="toolTip">
           <string>FTIR spectrum sample name</string>
          </property>
          <property name="text">
           <string>No FTIR sample</string>
          </property>
          <property name="alignment">
           <set>Qt::AlignCenter</set>
          </property>
         </widget>
        </item>
        <item>
         <widget class="QPushButton" name="pushButton_load_map">
          <property name="toolTip">
           <string>Load unmixing result (.h5)

Load a previously saved unmixing job/result (HDF5). This restores:
- abundance matrix A (endmembers × pixels)
- the algorithm and parameters used (when available)
- endmember labels and wavelengths (when saved)
Loaded jobs are inserted into the job table and can be visualized like any other model.</string>
          </property>
          <property name="text">
           <string>Load Map</string>
          </property>
         </widget>
        </item>
        <item>
         <widget class="QPushButton" name="pushButton_reset">
          <property name="toolTip">
           <string>Reset all

Clear the loaded cube, manual/auto/library endmembers, selections, FTIR/one-spectrum data, and the unmixing job queue/results.

Note: the spectral library content may be kept depending on your current implementation.</string>
          </property>
          <property name="styleSheet">
           <string notr="true">color: rgba(255, 0, 0, 125);</string>
          </property>
          <property name="text">
           <string>Reset all</string>
          </property>
         </widget>
        </item>
       </layout>
      </item>
      <item>
       <widget class="Line" name="line_2">
        <property name="orientation">
         <enum>Qt::Vertical</enum>
        </property>
       </widget>
      </item>
      <item>
       <spacer name="horizontalSpacer_3">
        <property name="orientation">
         <enum>Qt::Horizontal</enum>
        </property>
        <property name="sizeHint" stdset="0">
         <size>
          <width>40</width>
          <height>20</height>
         </size>
        </property>
       </spacer>
      </item>
      <item>
       <widget class="Line" name="line_5">
        <property name="orientation">
         <enum>Qt::Vertical</enum>
        </property>
       </widget>
      </item>
      <item>
       <widget class="QTabWidget" name="tabWidget">
        <property name="maximumSize">
         <size>
          <width>16777215</width>
          <height>16777215</height>
         </size>
        </property>
        <property name="toolTip">
         <string>Workspace tabs

Switch between:
- Endmembers (Manual / Auto / Library)
- Unmixing settings + job queue
- Visualization tools

Tip: settings are read from the currently active tab/controls when you add a job to the queue.</string>
        </property>
        <property name="tabPosition">
         <enum>QTabWidget::North</enum>
        </property>
        <property name="currentIndex">
         <number>1</number>
        </property>
        <widget class="QWidget" name="tab_endmembers">
         <attribute name="title">
          <string>Endmembers select</string>
         </attribute>
         <layout class="QHBoxLayout" name="horizontalLayout_5" stretch="0,2">
          <item>
           <widget class="QFrame" name="frame_3">
            <property name="maximumSize">
             <size>
              <width>300</width>
              <height>16777215</height>
             </size>
            </property>
            <property name="frameShape">
             <enum>QFrame::StyledPanel</enum>
            </property>
            <property name="frameShadow">
             <enum>QFrame::Raised</enum>
            </property>
            <layout class="QVBoxLayout" name="verticalLayout_15">
             <item>
              <widget class="QComboBox" name="comboBox_endmembers_get">
               <property name="toolTip">
                <string>Endmember source tab

Choose which endmember source you are editing:
- Manual: spectra extracted from user-selected pixels/regions
- Auto: spectra computed by an automatic extraction method
- From library: spectra loaded from an external CSV library

This choice affects which class list and parameters are shown in the form.</string>
               </property>
               <item>
                <property name="text">
                 <string>From library</string>
                </property>
               </item>
               <item>
                <property name="text">
                 <string>Manual</string>
                </property>
               </item>
               <item>
                <property name="text">
                 <string>Auto</string>
                </property>
               </item>
              </widget>
             </item>
             <item>
              <layout class="QHBoxLayout" name="horizontalLayout_11">
               <item>
                <widget class="QLabel" name="label_n_EM">
                 <property name="text">
                  <string># Endmembers:</string>
                 </property>
                </widget>
               </item>
               <item>
                <widget class="QSpinBox" name="nclass_box">
                 <property name="toolTip">
                  <string>Number of classes (p)

Sets how many endmember classes you manage in the current source (Manual/Auto/Library).
This primarily drives the UI (class list size, colors/labels). The effective number of endmembers used in unmixing depends on:
- how many spectra exist per class, and
- whether “Merge endmember groups” is enabled.</string>
                 </property>
                 <property name="minimum">
                  <number>2</number>
                 </property>
                 <property name="maximum">
                  <number>20</number>
                 </property>
                 <property name="value">
                  <number>3</number>
                 </property>
                </widget>
               </item>
              </layout>
             </item>
             <item>
              <widget class="QPushButton" name="pushButton_class_name_assign">
               <property name="toolTip">
                <string>Rename class

Assign a human-readable name to the selected class (used in legends, exports, and job labels).</string>
               </property>
               <property name="text">
                <string>Class name assign</string>
               </property>
              </widget>
             </item>
             <item>
              <widget class="QPushButton" name="pushButton_save_EM">
               <property name="toolTip">
                <string>Save endmembers

Export the current endmembers (Manual/Auto/Library) to disk for reuse. The saved file typically includes wavelengths and spectra.</string>
               </property>
               <property name="text">
                <string>Save active endmembers</string>
               </property>
              </widget>
             </item>
            </layout>
           </widget>
          </item>
          <item>
           <widget class="QStackedWidget" name="stackedWidget">
            <property name="currentIndex">
             <number>2</number>
            </property>
            <widget class="QWidget" name="From_Library">
             <layout class="QVBoxLayout" name="verticalLayout_3">
              <item>
               <widget class="QPushButton" name="pushButton_load_EM">
                <property name="toolTip">
                 <string>Load endmembers

Import endmembers from a file and populate the current source (Manual/Auto/Library), depending on your workflow.</string>
                </property>
                <property name="styleSheet">
                 <string notr="true">background-color: rgba(186, 255, 112, 125);</string>
                </property>
                <property name="text">
                 <string>Load Endmembers</string>
                </property>
               </widget>
              </item>
              <item>
               <layout class="QHBoxLayout" name="horizontalLayout_10">
                <item>
                 <widget class="QPushButton" name="pushButton_add_EM">
                  <property name="toolTip">
                   <string>Add endmember (manual)

Compute and add an endmember spectrum from the current pixel selection to the active Manual class.
Multiple selections can be added per class to capture variability.</string>
                  </property>
                  <property name="text">
                   <string>Add manual endmembers</string>
                  </property>
                 </widget>
                </item>
                <item>
                 <widget class="QPushButton" name="pushButton_remove_EM">
                  <property name="toolTip">
                   <string>Remove endmember

Remove the currently selected endmember spectrum from the active class/source.</string>
                  </property>
                  <property name="text">
                   <string>Remove endmembers</string>
                  </property>
                 </widget>
                </item>
                <item>
                 <widget class="QPushButton" name="pushButton_wavenumber_to_wavelength">
                  <property name="toolTip">
                   <string>Convert axis (FTIR)

Convert the loaded FTIR spectrum axis for display:
- Wavenumber (cm⁻¹) → Wavelength (nm), or the reverse.
This is only a visualization aid; it does not change the cube.</string>
                  </property>
                  <property name="text">
                   <string>From wavenumber to wavelenth</string>
                  </property>
                 </widget>
                </item>
               </layout>
              </item>
              <item>
               <widget class="QScrollArea" name="scrollArea">
                <property name="widgetResizable">
                 <bool>true</bool>
                </property>
                <widget class="QWidget" name="scrollAreaWidgetContents">
                 <property name="geometry">
                  <rect>
                   <x>0</x>
                   <y>0</y>
                   <width>80</width>
                   <height>20</height>
                  </rect>
                 </property>
                 <layout class="QVBoxLayout" name="verticalLayout_2">
                  <item>
                   <layout class="QFormLayout" name="formLayout_em_lib"/>
                  </item>
                 </layout>
                </widget>
               </widget>
              </item>
             </layout>
            </widget>
            <widget class="QWidget" name="Manual">
             <layout class="QGridLayout" name="gridLayout_4">
              <item row="1" column="0">
               <widget class="QLabel" name="label_selec_mode">
                <property name="maximumSize">
                 <size>
                  <width>16777215</width>
                  <height>20</height>
                 </size>
                </property>
                <property name="text">
                 <string>Select mode</string>
                </property>
                <property name="alignment">
                 <set>Qt::AlignCenter</set>
                </property>
               </widget>
              </item>
              <item row="0" column="1">
               <widget class="QPushButton" name="pushButton_erase_selected_pix">
                <property name="toolTip">
                 <string>Erase selection

Enable erase mode: selected pixels are removed from the current class selection (useful to refine manual endmembers).</string>
                </property>
                <property name="styleSheet">
                 <string notr="true">background-color: rgb(255, 206, 206);</string>
                </property>
                <property name="text">
                 <string>Erase Selected</string>
                </property>
                <property name="checkable">
                 <bool>true</bool>
                </property>
               </widget>
              </item>
              <item row="0" column="0">
               <widget class="QPushButton" name="pushButton_class_selection">
                <property name="enabled">
                 <bool>true</bool>
                </property>
                <property name="toolTip">
                 <string>Select pixels for class

Enable pixel/region selection on the left viewer. The selected pixels are assigned to the currently active class for endmember extraction.</string>
                </property>
                <property name="styleSheet">
                 <string notr="true">background-color: rgba(186, 255, 112, 125);</string>
                </property>
                <property name="text">
                 <string>Start selection</string>
                </property>
                <property name="checkable">
                 <bool>true</bool>
                </property>
               </widget>
              </item>
              <item row="2" column="0" colspan="2">
               <widget class="QScrollArea" name="scrollArea_2">
                <property name="widgetResizable">
                 <bool>true</bool>
                </property>
                <widget class="QWidget" name="scrollAreaWidgetContents_2">
                 <property name="geometry">
                  <rect>
                   <x>0</x>
                   <y>0</y>
                   <width>98</width>
                   <height>28</height>
                  </rect>
                 </property>
                 <layout class="QVBoxLayout" name="verticalLayout_4">
                  <item>
                   <layout class="QFormLayout" name="formLayout_em_manual"/>
                  </item>
                 </layout>
                </widget>
               </widget>
              </item>
              <item row="1" column="1">
               <widget class="QComboBox" name="comboBox_pixel_selection_mode">
                <property name="toolTip">
                 <string>Pixel selection mode

Select how pixels are collected when you interact with the left viewer:
- Rectangle / Ellipse: drag a region
- Pixel: click multiple pixels (optionally close path to fill inside)
This selection is used to extract manual endmembers and to inspect spectra.</string>
                </property>
                <item>
                 <property name="text">
                  <string>rectangle</string>
                 </property>
                </item>
                <item>
                 <property name="text">
                  <string>ellipse</string>
                 </property>
                </item>
                <item>
                 <property name="text">
                  <string>pixel</string>
                 </property>
                </item>
               </widget>
              </item>
             </layout>
            </widget>
            <widget class="QWidget" name="Automatic">
             <layout class="QGridLayout" name="gridLayout_5">
              <item row="1" column="2">
               <widget class="QComboBox" name="comboBox_endmembers_auto_algo">
                <property name="toolTip">
                 <string>Automatic endmember extraction algorithm

Select the automatic method used when you click “Extract endmembers”.
The extracted spectra populate the “Auto” endmember source and can later be used for unmixing.</string>
                </property>
                <item>
                 <property name="text">
                  <string>N-FINDR</string>
                 </property>
                </item>
                <item>
                 <property name="text">
                  <string>ATGP</string>
                 </property>
                </item>
               </widget>
              </item>
              <item row="3" column="1">
               <widget class="QLabel" name="label_normalisation">
                <property name="maximumSize">
                 <size>
                  <width>16777215</width>
                  <height>20</height>
                 </size>
                </property>
                <property name="text">
                 <string>Normalisation :</string>
                </property>
                <property name="alignment">
                 <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>
                </property>
               </widget>
              </item>
              <item row="2" column="2">
               <widget class="QSpinBox" name="niter_box">
                <property name="toolTip">
                 <string>Iterations (auto extraction)

Number of iterations used by the selected automatic endmember extraction method (when applicable). Higher values usually increase computation time and may improve stability.</string>
                </property>
                <property name="minimum">
                 <number>2</number>
                </property>
                <property name="maximum">
                 <number>100</number>
                </property>
                <property name="value">
                 <number>10</number>
                </property>
               </widget>
              </item>
              <item row="2" column="1">
               <widget class="QLabel" name="label_n_iteration">
                <property name="text">
                 <string># iterations :</string>
                </property>
                <property name="alignment">
                 <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>
                </property>
               </widget>
              </item>
              <item row="1" column="1">
               <widget class="QLabel" name="label_auto_algo">
                <property name="text">
                 <string>Algorithm :</string>
                </property>
                <property name="alignment">
                 <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>
                </property>
               </widget>
              </item>
              <item row="3" column="2">
               <widget class="QComboBox" name="comboBox_normalisation">
                <property name="sizePolicy">
                 <sizepolicy hsizetype="Expanding" vsizetype="Fixed">
                  <horstretch>0</horstretch>
                  <verstretch>0</verstretch>
                 </sizepolicy>
                </property>
                <property name="toolTip">
                 <string>Endmember normalization (extraction)

Normalization applied when building/visualizing endmembers for the current source.
Typical options:
- None: keep raw reflectance scale
- L1 / L2: scale each spectrum to unit norm

Normalization changes the relative scale of spectra, which can affect extraction and comparison.</string>
                </property>
                <item>
                 <property name="text">
                  <string>L2 (Euclidian)</string>
                 </property>
                </item>
                <item>
                 <property name="text">
                  <string>L1 (Sum=1)</string>
                 </property>
                </item>
                <item>
                 <property name="text">
                  <string>None</string>
                 </property>
                </item>
               </widget>
              </item>
              <item row="1" column="3" rowspan="4">
               <widget class="QScrollArea" name="scrollArea_3">
                <property name="minimumSize">
                 <size>
                  <width>200</width>
                  <height>0</height>
                 </size>
                </property>
                <property name="widgetResizable">
                 <bool>true</bool>
                </property>
                <widget class="QWidget" name="scrollAreaWidgetContents_3">
                 <property name="geometry">
                  <rect>
                   <x>0</x>
                   <y>0</y>
                   <width>198</width>
                   <height>143</height>
                  </rect>
                 </property>
                 <layout class="QVBoxLayout" name="verticalLayout_6">
                  <item>
                   <layout class="QFormLayout" name="formLayout_em_auto"/>
                  </item>
                 </layout>
                </widget>
               </widget>
              </item>
              <item row="4" column="1" colspan="2">
               <widget class="QPushButton" name="run_btn">
                <property name="toolTip">
                 <string>Run unmixing now

Run unmixing immediately with the current settings.
For reproducible comparisons across settings, prefer “Add to queue” and run jobs from the job list.</string>
                </property>
                <property name="styleSheet">
                 <string notr="true">background-color: rgba(186, 255, 112, 125);</string>
                </property>
                <property name="text">
                 <string>End Members Extraction</string>
                </property>
               </widget>
              </item>
             </layout>
            </widget>
           </widget>
          </item>
         </layout>
        </widget>
        <widget class="QWidget" name="tab">
         <attribute name="title">
          <string>Unmixing parameters</string>
         </attribute>
         <layout class="QHBoxLayout" name="horizontalLayout">
          <item>
           <layout class="QGridLayout" name="gridLayout_3" rowstretch="0,0,0,0,0,0">
            <item row="4" column="5">
             <widget class="QCheckBox" name="checkBox_unmix_ANC">
              <property name="toolTip">
               <string>ANC (Abundance Non-negativity Constraint)

If enabled, abundances are constrained to be ≥ 0.
This is physically meaningful in most mixing problems and avoids compensating negative coefficients.

Disabling ANC allows negative coefficients (only recommended for diagnostic/academic use).</string>
              </property>
              <property name="text">
               <string>ANC</string>
              </property>
             </widget>
            </item>
            <item row="4" column="4">
             <widget class="QCheckBox" name="checkBox_unmix_ASC">
              <property name="toolTip">
               <string>ASC (Abundance Sum-to-one Constraint)

If enabled, abundances are constrained to sum to 1 for each pixel.
This is appropriate when your endmembers fully explain the pixel spectrum and you want fractional abundances.

Disabling ASC allows the total abundance to vary (useful when illumination/scale effects exist).</string>
              </property>
              <property name="text">
               <string>ASC</string>
              </property>
             </widget>
            </item>
            <item row="2" column="5">
             <widget class="QCheckBox" name="checkBox_unmix_merge_EM_groups">
              <property name="toolTip">
               <string>Merge endmember groups

If enabled, endmembers belonging to the same class/group are averaged before unmixing.
This reduces the number of endmembers (p) and often stabilizes solutions when you have multiple spectra per class.

If disabled, all spectra are used independently (higher p, more flexibility).</string>
              </property>
              <property name="text">
               <string>Merge EM groups</string>
              </property>
             </widget>
            </item>
            <item row="1" column="5">
             <widget class="QComboBox" name="comboBox_endmembers_use_for_unmixing">
              <property name="toolTip">
               <string>Endmembers used for unmixing

Select which endmember source will be used when running an unmixing job:
- From library: endmembers loaded from a CSV library
- Manual: endmembers extracted from your manual selections
- Auto: endmembers computed by the automatic extraction method

The selected source is saved inside each job so you can compare results across sources.</string>
              </property>
              <property name="styleSheet">
               <string notr="true">background-color: rgb(0, 170, 0);
color: rgb(255, 255, 255);</string>
              </property>
              <item>
               <property name="text">
                <string>From library</string>
               </property>
              </item>
              <item>
               <property name="text">
                <string>Manual</string>
               </property>
              </item>
              <item>
               <property name="text">
                <string>Auto</string>
               </property>
              </item>
             </widget>
            </item>
            <item row="1" column="4">
             <widget class="QLabel" name="label_EM_choose">
              <property name="minimumSize">
               <size>
                <width>100</width>
                <height>0</height>
               </size>
              </property>
              <property name="maximumSize">
               <size>
                <width>16777215</width>
                <height>20</height>
               </size>
              </property>
              <property name="styleSheet">
               <string notr="true">background-color: rgb(0, 170, 0);</string>
              </property>
              <property name="text">
               <string>&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;&lt;span style=&quot; font-weight:600; text-decoration: underline; color:#ffffff;&quot;&gt;ENDMEMBERS SOURCES :&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>
              </property>
              <property name="alignment">
               <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>
              </property>
             </widget>
            </item>
            <item row="3" column="4">
             <widget class="QLabel" name="label_normalisation_unmix">
              <property name="maximumSize">
               <size>
                <width>16777215</width>
                <height>20</height>
               </size>
              </property>
              <property name="text">
               <string>Normalisation :</string>
              </property>
              <property name="alignment">
               <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>
              </property>
             </widget>
            </item>
            <item row="3" column="5">
             <widget class="QComboBox" name="comboBox_normalisation_unmix">
              <property name="sizePolicy">
               <sizepolicy hsizetype="Expanding" vsizetype="Fixed">
                <horstretch>0</horstretch>
                <verstretch>0</verstretch>
               </sizepolicy>
              </property>
              <property name="toolTip">
               <string>&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;Spectral normalization&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;Select how spectra are normalized before unmixing.&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;• L2 (Euclidean)&lt;/p&gt;&lt;p&gt;  Each spectrum is normalized by its L2 norm&lt;/p&gt;&lt;p&gt;  (square root of the sum of squared values).&lt;/p&gt;&lt;p&gt;  Preserves spectral shape while reducing sensitivity to absolute intensity.&lt;/p&gt;&lt;p&gt;  Common default for least-squares-based methods.&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;• L1 (Sum = 1)&lt;/p&gt;&lt;p&gt;  Each spectrum is normalized so that the sum of its values equals 1.&lt;/p&gt;&lt;p&gt;  Emphasizes relative band contributions.&lt;/p&gt;&lt;p&gt;  Often used when comparing proportions or compositional spectra.&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;• None&lt;/p&gt;&lt;p&gt;  No normalization is applied.&lt;/p&gt;&lt;p&gt;  Use only if spectra are already calibrated and comparable in magnitude.&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>
              </property>
              <item>
               <property name="text">
                <string>L2 (Euclidian)</string>
               </property>
              </item>
              <item>
               <property name="text">
                <string>L1 (Sum=1)</string>
               </property>
              </item>
              <item>
               <property name="text">
                <string>None</string>
               </property>
              </item>
             </widget>
            </item>
            <item row="2" column="4">
             <widget class="QComboBox" name="comboBox_preprocess">
              <property name="sizePolicy">
               <sizepolicy hsizetype="Expanding" vsizetype="Fixed">
                <horstretch>0</horstretch>
                <verstretch>0</verstretch>
               </sizepolicy>
              </property>
              <property name="toolTip">
               <string>&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;Preprocess spectra for unmixing&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;Choose how spectra are transformed before unmixing:&lt;/p&gt;&lt;p&gt;- Raw: reflectance without derivative&lt;/p&gt;&lt;p&gt;- 1st derivative: emphasize slopes, reduce baseline effects&lt;/p&gt;&lt;p&gt;- 2nd derivative: emphasize narrow features, stronger noise amplification&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;The same preprocessing is applied to both endmembers E and pixel spectra Y for consistency.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>
              </property>
              <item>
               <property name="text">
                <string>RAW Spectrum </string>
               </property>
              </item>
              <item>
               <property name="text">
                <string>First derivative</string>
               </property>
              </item>
              <item>
               <property name="text">
                <string>Second derivative</string>
               </property>
              </item>
             </widget>
            </item>
            <item row="1" column="1" rowspan="2" colspan="2">
             <widget class="QStackedWidget" name="stackedWidget_3">
              <property name="currentIndex">
               <number>0</number>
              </property>
              <widget class="QWidget" name="page_algo_param">
               <layout class="QGridLayout" name="gridLayout_6">
                <item row="1" column="1">
                 <widget class="QDoubleSpinBox" name="doubleSpinBox_unmix_lambda_2">
                  <property name="toolTip">
                   <string>Tolerance (tol) as 10^x

This control stores the exponent x used to compute:
  tol = 10^x

tol is used as a stopping criterion for iterative solvers (e.g., metric-based unmixing and SUnSAL variants): smaller tol → more iterations / potentially better convergence; larger tol → faster but less precise.</string>
                  </property>
                  <property name="minimum">
                   <double>-7.000000000000000</double>
                  </property>
                  <property name="maximum">
                   <double>-2.000000000000000</double>
                  </property>
                  <property name="singleStep">
                   <double>0.100000000000000</double>
                  </property>
                  <property name="value">
                   <double>-4.000000000000000</double>
                  </property>
                 </widget>
                </item>
                <item row="0" column="0">
                 <widget class="QLabel" name="label_unmix_maxiter">
                  <property name="maximumSize">
                   <size>
                    <width>16777215</width>
                    <height>20</height>
                   </size>
                  </property>
                  <property name="text">
                   <string>Maximum iterations :</string>
                  </property>
                  <property name="alignment">
                   <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>
                  </property>
                 </widget>
                </item>
                <item row="0" column="1">
                 <widget class="QSpinBox" name="spinBox">
                  <property name="toolTip">
                   <string>Maximum iterations

Upper bound on the number of iterations for iterative unmixing solvers. If set too low, solutions may stop early; if set high, the solver can converge more fully but will take longer.</string>
                  </property>
                  <property name="minimum">
                   <number>100</number>
                  </property>
                  <property name="maximum">
                   <number>3000</number>
                  </property>
                  <property name="singleStep">
                   <number>100</number>
                  </property>
                  <property name="value">
                   <number>1000</number>
                  </property>
                 </widget>
                </item>
                <item row="1" column="0">
                 <widget class="QLabel" name="label_unmx_tolerance">
                  <property name="maximumSize">
                   <size>
                    <width>16777215</width>
                    <height>20</height>
                   </size>
                  </property>
                  <property name="text">
                   <string>Tolerance : 10^</string>
                  </property>
                  <property name="alignment">
                   <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>
                  </property>
                 </widget>
                </item>
               </layout>
              </widget>
              <widget class="QWidget" name="page_classic"/>
             </widget>
            </item>
            <item row="3" column="1">
             <widget class="QLabel" name="label_unmix_algorithm_choice">
              <property name="text">
               <string>Unmixing algorithm :</string>
              </property>
              <property name="alignment">
               <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>
              </property>
             </widget>
            </item>
            <item row="3" column="2">
             <widget class="QComboBox" name="comboBox_unmix_algorithm">
              <property name="toolTip">
               <string>&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;&lt;span style=&quot; font-weight:600;&quot;&gt;Unmixing algorithm&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Select the algorithm used to estimate pixel abundances from endmember spectra. Least Squares (LS) methods minimize a Euclidean reconstruction error, while Metric-based methods optimize a spectral similarity measure.&lt;br/&gt;&lt;/p&gt;&lt;p&gt;• UCLS (Unconstrained Least Squares)&lt;/p&gt;&lt;p&gt;Linear additive model.&lt;/p&gt;&lt;p&gt;Solves a least-squares problem without physical constraints.&lt;/p&gt;&lt;p&gt;Abundances may be negative or greater than 1.&lt;/p&gt;&lt;p&gt;Useful for diagnostics or when constraints are not desired.&lt;br/&gt;&lt;/p&gt;&lt;p&gt;• NNLS (Non-Negative Least Squares)&lt;/p&gt;&lt;p&gt;Linear additive model with non-negativity constraint (ANC).&lt;/p&gt;&lt;p&gt;Enforces abundances ≥ 0, but does not enforce sum-to-one.&lt;/p&gt;&lt;p&gt;Common baseline method for physically meaningful abundances.&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;• FCLS (Fully Constrained Least Squares)&lt;/p&gt;&lt;p&gt;Linear additive model with both Non-negativity constraint (ANC) and Sum-to-one constraint (ASC)&lt;/p&gt;&lt;p&gt;Abundances are physically interpretable as proportions.&lt;br/&gt;&lt;/p&gt;&lt;p&gt;• Metric (cGFC)&lt;/p&gt;&lt;p&gt;Additive linear model optimized using a spectral similarity metric&lt;/p&gt;&lt;p&gt;instead of a pure least-squares error.&lt;/p&gt;&lt;p&gt;Finds the linear combination of endmembers that best matches the&lt;/p&gt;&lt;p&gt;observed spectrum according to the selected metric.&lt;/p&gt;&lt;p&gt;Useful when spectral shape is more important than absolute magnitude.&lt;br/&gt;&lt;/p&gt;&lt;p&gt;• SUnSAL&lt;/p&gt;&lt;p&gt;Sparse unmixing using augmented Lagrangian optimization.&lt;/p&gt;&lt;p&gt;Linear additive model with sparsity regularization.&lt;/p&gt;&lt;p&gt;Encourages solutions using fewer endmembers per pixel.&lt;/p&gt;&lt;p&gt;Parameters (lambda, rho, tolerance) control sparsity and convergence.&lt;br/&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>
              </property>
              <item>
               <property name="text">
                <string>UCLS</string>
               </property>
              </item>
              <item>
               <property name="text">
                <string>NNLS</string>
               </property>
              </item>
              <item>
               <property name="text">
                <string>FCLS</string>
               </property>
              </item>
              <item>
               <property name="text">
                <string>Metric (cGFC)</string>
               </property>
              </item>
              <item>
               <property name="text">
                <string>SUnSAL</string>
               </property>
              </item>
             </widget>
            </item>
            <item row="5" column="4" colspan="2">
             <widget class="QPushButton" name="pushButton_add_queue_unmixing">
              <property name="minimumSize">
               <size>
                <width>100</width>
                <height>0</height>
               </size>
              </property>
              <property name="maximumSize">
               <size>
                <width>500</width>
                <height>16777215</height>
               </size>
              </property>
              <property name="toolTip">
               <string>Add job to queue

Create an unmixing job using:
- selected algorithm + parameters
- selected endmember source
- current preprocessing/normalization choices
The job is added to the table and can be executed later (or in batch).</string>
              </property>
              <property name="styleSheet">
               <string notr="true">background-color: rgba(186, 255, 112, 125);</string>
              </property>
              <property name="text">
               <string>Add to queue</string>
              </property>
             </widget>
            </item>
            <item row="4" column="1" rowspan="2" colspan="2">
             <widget class="QStackedWidget" name="stackedWidget_4">
              <property name="currentIndex">
               <number>0</number>
              </property>
              <widget class="QWidget" name="page_SUnSAL">
               <layout class="QGridLayout" name="gridLayout_7">
                <item row="0" column="1">
                 <widget class="QDoubleSpinBox" name="doubleSpinBox_unmix_lambda_3">
                  <property name="toolTip">
                   <string>Regularization (λ) as 10^x

This control stores the exponent x used to compute:
  λ = 10^x

λ is used by regularized solvers (notably SUnSAL) to trade off data fidelity vs. regularization. Larger λ typically enforces stronger regularization (often sparser / smoother solutions depending on backend).</string>
                  </property>
                  <property name="minimum">
                   <double>-5.000000000000000</double>
                  </property>
                  <property name="maximum">
                   <double>-1.000000000000000</double>
                  </property>
                  <property name="singleStep">
                   <double>0.100000000000000</double>
                  </property>
                  <property name="value">
                   <double>-3.000000000000000</double>
                  </property>
                 </widget>
                </item>
                <item row="0" column="0">
                 <widget class="QLabel" name="label_unmix_lambda">
                  <property name="maximumSize">
                   <size>
                    <width>16777215</width>
                    <height>20</height>
                   </size>
                  </property>
                  <property name="text">
                   <string>Lambda : 10^</string>
                  </property>
                  <property name="alignment">
                   <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>
                  </property>
                 </widget>
                </item>
                <item row="1" column="0">
                 <widget class="QLabel" name="label_unmix_lambda_2">
                  <property name="maximumSize">
                   <size>
                    <width>16777215</width>
                    <height>20</height>
                   </size>
                  </property>
                  <property name="text">
                   <string>Rho : 10^</string>
                  </property>
                  <property name="alignment">
                   <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>
                  </property>
                 </widget>
                </item>
                <item row="1" column="1">
                 <widget class="QDoubleSpinBox" name="doubleSpinBox_unmix_lambda_4">
                  <property name="toolTip">
                   <string>ρ / step parameter

This parameter is passed to iterative solvers that require an additional scale/step (commonly noted ρ).
Its exact effect depends on the selected algorithm; in general it controls the aggressiveness of updates and may affect convergence speed/stability.</string>
                  </property>
                  <property name="minimum">
                   <double>0.500000000000000</double>
                  </property>
                  <property name="maximum">
                   <double>5.000000000000000</double>
                  </property>
                  <property name="singleStep">
                   <double>0.100000000000000</double>
                  </property>
                  <property name="value">
                   <double>5.000000000000000</double>
                  </property>
                 </widget>
                </item>
               </layout>
              </widget>
              <widget class="QWidget" name="page_metric"/>
             </widget>
            </item>
            <item row="1" column="3" rowspan="5">
             <widget class="Line" name="line_3">
              <property name="orientation">
               <enum>Qt::Vertical</enum>
              </property>
             </widget>
            </item>
           </layout>
          </item>
         </layout>
        </widget>
        <widget class="QWidget" name="tab_3">
         <attribute name="title">
          <string>Unmixing queue</string>
         </attribute>
         <layout class="QHBoxLayout" name="horizontalLayout_4">
          <item>
           <widget class="QTableWidget" name="tableWidget_classificationList">
            <property name="toolTip">
             <string>Unmixing job table

Each row is one unmixing run.
Columns typically include:
- Status / Progress / Duration
- Parameters (tol, λ, ρ, max-iter, constraints, preprocessing)
- Algorithm + endmember source

Select a row to visualize its abundances/endmembers on the right.</string>
            </property>
           </widget>
          </item>
          <item>
           <layout class="QVBoxLayout" name="verticalLayout_12">
            <item>
             <widget class="QPushButton" name="pushButton_clas_remove">
              <property name="toolTip">
               <string>Remove selected job

Remove the selected job from the queue/table. If the job has results, they are discarded from this session.</string>
              </property>
              <property name="text">
               <string>Remove selected</string>
              </property>
             </widget>
            </item>
            <item>
             <widget class="QPushButton" name="pushButton_clas_remove_all">
              <property name="toolTip">
               <string>Remove all jobs

Clear the entire unmixing job list and remove all stored results from this session.</string>
              </property>
              <property name="text">
               <string>Remove all</string>
              </property>
             </widget>
            </item>
            <item>
             <widget class="QPushButton" name="pushButton_clas_up">
              <property name="toolTip">
               <string>Move job up

Change job order in the queue (execution order follows the table order).</string>
              </property>
              <property name="text">
               <string>↑</string>
              </property>
             </widget>
            </item>
            <item>
             <widget class="QPushButton" name="pushButton_clas_down">
              <property name="toolTip">
               <string>Move job down

Change job order in the queue (execution order follows the table order).</string>
              </property>
              <property name="text">
               <string>↓</string>
              </property>
             </widget>
            </item>
           </layout>
          </item>
          <item>
           <layout class="QVBoxLayout" name="verticalLayout_13">
            <item>
             <widget class="QPushButton" name="pushButton_clas_reinit">
              <property name="toolTip">
               <string>Reinitialize job status

Reset the selected job status back to “Idle/Queued” so it can be run again without changing parameters.</string>
              </property>
              <property name="styleSheet">
               <string notr="true"/>
              </property>
              <property name="text">
               <string>Reinit selected</string>
              </property>
             </widget>
            </item>
            <item>
             <widget class="QPushButton" name="pushButton_clas_start_selected">
              <property name="toolTip">
               <string>Start selected

Run only the selected job in the table (or resume the last queued job, depending on current state).</string>
              </property>
              <property name="styleSheet">
               <string notr="true"/>
              </property>
              <property name="text">
               <string>Launch selected</string>
              </property>
             </widget>
            </item>
            <item>
             <widget class="QPushButton" name="pushButton_clas_start">
              <property name="toolTip">
               <string>Start queue

Run all queued jobs (Status: Queued) sequentially. Progress and duration are updated in the table.</string>
              </property>
              <property name="styleSheet">
               <string notr="true">background-color: rgba(186, 255, 112, 125);</string>
              </property>
              <property name="text">
               <string>Start all</string>
              </property>
             </widget>
            </item>
            <item>
             <widget class="QPushButton" name="pushButton_clas_stop">
              <property name="toolTip">
               <string>Stop / cancel

Request cancellation of the current running job and stop the queue processing. Already finished jobs remain available for visualization.</string>
              </property>
              <property name="styleSheet">
               <string notr="true">background-color: rgb(170,50, 50);
color: rgb(255, 255, 255);</string>
              </property>
              <property name="text">
               <string>Cancel queue</string>
              </property>
             </widget>
            </item>
           </layout>
          </item>
         </layout>
        </widget>
       </widget>
      </item>
      <item>
       <widget class="Line" name="line_6">
        <property name="orientation">
         <enum>Qt::Vertical</enum>
        </property>
       </widget>
      </item>
      <item>
       <spacer name="horizontalSpacer_2">
        <property name="orientation">
         <enum>Qt::Horizontal</enum>
        </property>
        <property name="sizeHint" stdset="0">
         <size>
          <width>40</width>
          <height>20</height>
         </size>
        </property>
       </spacer>
      </item>
      <item>
       <widget class="Line" name="line_7">
        <property name="orientation">
         <enum>Qt::Vertical</enum>
        </property>
       </widget>
      </item>
      <item>
       <widget class="QTabWidget" name="tabWidget_Image">
        <property name="sizePolicy">
         <sizepolicy hsizetype="Maximum" vsizetype="Expanding">
          <horstretch>0</horstretch>
          <verstretch>0</verstretch>
         </sizepolicy>
        </property>
        <property name="toolTip">
         <string/>
        </property>
        <property name="currentIndex">
         <number>0</number>
        </property>
        <widget class="QWidget" name="tabWidgetPage1_2">
         <attribute name="title">
          <string>Image Adjustment</string>
         </attribute>
         <attribute name="toolTip">
          <string>Choose how the image is displayed (RGB or grayscale) and adjust display bands.</string>
         </attribute>
         <layout class="QHBoxLayout" name="horizontalLayout_6">
          <item>
           <layout class="QHBoxLayout" name="horizontalLayout_7">
            <item>
             <layout class="QVBoxLayout" name="verticalLayout_8">
              <item>
               <widget class="QRadioButton" name="radioButton_rgb_default">
                <property name="toolTip">
                 <string>RGB display: Default

Use default wavelength triplets chosen by simple VNIR/SWIR heuristics. Sliders are locked.
This is a quick way to obtain a stable false-RGB preview.</string>
                </property>
                <property name="text">
                 <string>RGB default</string>
                </property>
                <property name="checked">
                 <bool>false</bool>
                </property>
               </widget>
              </item>
              <item>
               <widget class="QRadioButton" name="radioButton_rgb_user">
                <property name="enabled">
                 <bool>true</bool>
                </property>
                <property name="toolTip">
                 <string>RGB display: User-defined

Enable manual selection of the R/G/B wavelengths (nm) using sliders or spin boxes.
This affects only the preview images and overlays, not the unmixing computations.</string>
                </property>
                <property name="text">
                 <string>RGB user</string>
                </property>
                <property name="checked">
                 <bool>true</bool>
                </property>
               </widget>
              </item>
              <item>
               <widget class="QRadioButton" name="radioButton_grayscale">
                <property name="toolTip">
                 <string>Display: Grayscale

Show a single-band grayscale image using the “Blue/Gray” wavelength selector.
Useful for inspecting texture or contrast at a specific wavelength.</string>
                </property>
                <property name="text">
                 <string>Grayscale</string>
                </property>
               </widget>
              </item>
             </layout>
            </item>
            <item>
             <layout class="QGridLayout" name="gridLayout_RGBchannels_4">
              <item row="1" column="3">
               <widget class="QSlider" name="horizontalSlider_green_channel">
                <property name="toolTip">
                 <string>Green channel wavelength (nm)

Select the wavelength used for the Green channel in false-RGB mode. Disabled when “Default RGB” is selected.</string>
                </property>
                <property name="maximum">
                 <number>149</number>
                </property>
                <property name="value">
                 <number>0</number>
                </property>
                <property name="orientation">
                 <enum>Qt::Horizontal</enum>
                </property>
               </widget>
              </item>
              <item row="0" column="0">
               <widget class="QLabel" name="label_red_channel">
                <property name="text">
                 <string>Red</string>
                </property>
                <property name="alignment">
                 <set>Qt::AlignCenter</set>
                </property>
               </widget>
              </item>
              <item row="2" column="1">
               <widget class="QSpinBox" name="spinBox_blue_channel">
                <property name="toolTip">
                 <string>Blue / Gray wavelength (nm)

Numeric entry for the Blue (or Gray) wavelength (same as the slider).</string>
                </property>
                <property name="maximum">
                 <number>149</number>
                </property>
                <property name="value">
                 <number>0</number>
                </property>
               </widget>
              </item>
              <item row="1" column="1">
               <widget class="QSpinBox" name="spinBox_green_channel">
                <property name="toolTip">
                 <string>Green channel wavelength (nm)

Numeric entry for the Green wavelength (same as the slider).</string>
                </property>
                <property name="maximum">
                 <number>149</number>
                </property>
                <property name="value">
                 <number>0</number>
                </property>
               </widget>
              </item>
              <item row="1" column="0">
               <widget class="QLabel" name="label_green_channel">
                <property name="text">
                 <string>Green</string>
                </property>
                <property name="alignment">
                 <set>Qt::AlignCenter</set>
                </property>
               </widget>
              </item>
              <item row="0" column="3">
               <widget class="QSlider" name="horizontalSlider_red_channel">
                <property name="minimumSize">
                 <size>
                  <width>60</width>
                  <height>0</height>
                 </size>
                </property>
                <property name="toolTip">
                 <string>Red channel wavelength (nm)

Select the wavelength used for the Red channel in false-RGB mode. Disabled when “Default RGB” is selected.</string>
                </property>
                <property name="maximum">
                 <number>149</number>
                </property>
                <property name="value">
                 <number>0</number>
                </property>
                <property name="orientation">
                 <enum>Qt::Horizontal</enum>
                </property>
               </widget>
              </item>
              <item row="2" column="3">
               <widget class="QSlider" name="horizontalSlider_blue_channel">
                <property name="toolTip">
                 <string>Blue / Gray channel wavelength (nm)

Select the wavelength used for the Blue channel in false-RGB mode.
In Grayscale mode, this wavelength is used for all channels.</string>
                </property>
                <property name="maximum">
                 <number>149</number>
                </property>
                <property name="value">
                 <number>0</number>
                </property>
                <property name="orientation">
                 <enum>Qt::Horizontal</enum>
                </property>
               </widget>
              </item>
              <item row="2" column="0">
               <widget class="QLabel" name="label_blue_channel">
                <property name="text">
                 <string>Blue</string>
                </property>
                <property name="alignment">
                 <set>Qt::AlignCenter</set>
                </property>
               </widget>
              </item>
              <item row="0" column="1">
               <widget class="QSpinBox" name="spinBox_red_channel">
                <property name="toolTip">
                 <string>Red channel wavelength (nm)

Numeric entry for the Red wavelength (same as the slider).</string>
                </property>
                <property name="maximum">
                 <number>149</number>
                </property>
                <property name="singleStep">
                 <number>1</number>
                </property>
                <property name="value">
                 <number>0</number>
                </property>
               </widget>
              </item>
             </layout>
            </item>
            <item>
             <widget class="QGroupBox" name="groupBox_4">
              <property name="title">
               <string>Transform</string>
              </property>
              <layout class="QVBoxLayout" name="verticalLayout_11">
               <item>
                <widget class="QPushButton" name="pushButton_rotate">
                 <property name="toolTip">
                  <string>Rotate view

Rotate the displayed image view by a fixed step. This is a visualization transform only.</string>
                 </property>
                 <property name="autoFillBackground">
                  <bool>false</bool>
                 </property>
                 <property name="styleSheet">
                  <string notr="true">font: 12pt &quot;Trebuchet MS&quot;;</string>
                 </property>
                 <property name="text">
                  <string notr="true">⟲</string>
                 </property>
                </widget>
               </item>
               <item>
                <widget class="QPushButton" name="pushButton_flip_v">
                 <property name="toolTip">
                  <string>Flip vertically

Mirror the displayed image vertically (visualization only).</string>
                 </property>
                 <property name="styleSheet">
                  <string notr="true">font: 12pt &quot;Trebuchet MS&quot;;</string>
                 </property>
                 <property name="text">
                  <string>↕</string>
                 </property>
                </widget>
               </item>
               <item>
                <widget class="QPushButton" name="pushButton_flip_h">
                 <property name="baseSize">
                  <size>
                   <width>16</width>
                   <height>0</height>
                  </size>
                 </property>
                 <property name="toolTip">
                  <string>Flip horizontally

Mirror the displayed image horizontally (visualization only).</string>
                 </property>
                 <property name="styleSheet">
                  <string notr="true">font: 12pt &quot;Trebuchet MS&quot;;</string>
                 </property>
                 <property name="text">
                  <string>↔</string>
                 </property>
                </widget>
               </item>
               <item>
                <widget class="QPushButton" name="pushButton_reset_transform">
                 <property name="toolTip">
                  <string>Reset transforms

Reset rotation/flips and return to the original view orientation.</string>
                 </property>
                 <property name="text">
                  <string>Reset transforms</string>
                 </property>
                </widget>
               </item>
              </layout>
             </widget>
            </item>
           </layout>
          </item>
         </layout>
        </widget>
        <widget class="QWidget" name="tabWidgetPage2_2">
         <attribute name="title">
          <string>Results Vizualisation</string>
         </attribute>
         <layout class="QVBoxLayout" name="verticalLayout_10">
          <item>
           <widget class="QGroupBox" name="groupBox">
            <property name="title">
             <string>Show</string>
            </property>
            <layout class="QHBoxLayout" name="horizontalLayout_8">
             <item>
              <widget class="QRadioButton" name="radioButton_view_em">
               <property name="toolTip">
                <string>Visualization mode: Endmembers

Display endmember spectra/markers for the selected model/source in the right panel.</string>
               </property>
               <property name="text">
                <string>Endmembers</string>
               </property>
               <property name="checked">
                <bool>true</bool>
               </property>
              </widget>
             </item>
             <item>
              <widget class="QRadioButton" name="radioButton_view_abundance">
               <property name="toolTip">
                <string>Visualization mode: Abundance maps

Display abundance maps for the selected unmixing model. Use the controls below to choose the model/endmember and normalization.</string>
               </property>
               <property name="text">
                <string>Abundance Maps</string>
               </property>
              </widget>
             </item>
            </layout>
           </widget>
          </item>
          <item>
           <widget class="QStackedWidget" name="stackedWidget_2">
            <property name="currentIndex">
             <number>0</number>
            </property>
            <widget class="QWidget" name="page_abundance_viz">
             <layout class="QVBoxLayout" name="verticalLayout_9">
              <item>
               <layout class="QGridLayout" name="gridLayout_2">
                <item row="3" column="1">
                 <widget class="QPushButton" name="pushButton_show_all">
                  <property name="toolTip">
                   <string>Show all endmembers

Display all abundance layers (one per endmember) in the gallery view for the selected model, for fast qualitative comparison.</string>
                  </property>
                  <property name="text">
                   <string>Show All</string>
                  </property>
                 </widget>
                </item>
                <item row="1" column="1">
                 <widget class="QComboBox" name="comboBox_viz_show_model">
                  <property name="toolTip">
                   <string>Model to visualize

Select which unmixing job (row from the table) is currently displayed in the abundance/endmember visualization panel.</string>
                  </property>
                 </widget>
                </item>
                <item row="0" column="1">
                 <widget class="QLabel" name="label_viz_model">
                  <property name="maximumSize">
                   <size>
                    <width>16777215</width>
                    <height>15</height>
                   </size>
                  </property>
                  <property name="text">
                   <string>Model to vizualize</string>
                  </property>
                  <property name="alignment">
                   <set>Qt::AlignCenter</set>
                  </property>
                 </widget>
                </item>
                <item row="0" column="3">
                 <widget class="QLabel" name="label_viz_EM">
                  <property name="maximumSize">
                   <size>
                    <width>16777215</width>
                    <height>15</height>
                   </size>
                  </property>
                  <property name="text">
                   <string>Endmembers to show</string>
                  </property>
                  <property name="alignment">
                   <set>Qt::AlignCenter</set>
                  </property>
                 </widget>
                </item>
                <item row="1" column="3">
                 <widget class="QComboBox" name="comboBox_viz_show_EM">
                  <property name="toolTip">
                   <string>Endmember to visualize

Select which endmember (class) to display when viewing abundance maps. The chosen endmember changes the displayed abundance layer and its statistics.</string>
                  </property>
                 </widget>
                </item>
                <item row="3" column="3">
                 <widget class="QPushButton" name="pushButton_save_map">
                  <property name="toolTip">
                   <string>Save unmixing result

Export the currently selected unmixing job to disk (HDF5). Typically includes:
- abundance matrix A
- E used and wavelength axis (if available)
- labels and parameters
This allows reproducibility and later re-loading via “Load unmixing result”.</string>
                  </property>
                  <property name="text">
                   <string>Save map(s)</string>
                  </property>
                 </widget>
                </item>
                <item row="2" column="1">
                 <widget class="QRadioButton" name="radioButton_norm_show_abundance_global">
                  <property name="toolTip">
                   <string>Abundance normalization: Global

Normalize the displayed abundance map using a global scale (consistent across the full image). This is best for comparing spatial distribution objectively.</string>
                  </property>
                  <property name="text">
                   <string>Global max</string>
                  </property>
                  <property name="checked">
                   <bool>true</bool>
                  </property>
                 </widget>
                </item>
                <item row="2" column="3">
                 <widget class="QRadioButton" name="radioButton_norm_show_abundance_local">
                  <property name="toolTip">
                   <string>Abundance normalization: Local

Normalize the displayed abundance map independently per view (auto-contrast). This improves visibility of low-contrast maps but makes absolute comparisons harder.</string>
                  </property>
                  <property name="text">
                   <string>Local max</string>
                  </property>
                 </widget>
                </item>
               </layout>
              </item>
             </layout>
            </widget>
            <widget class="QWidget" name="page_endmember_viz">
             <layout class="QVBoxLayout" name="verticalLayout_14">
              <item>
               <layout class="QHBoxLayout" name="horizontalLayout_12">
                <item>
                 <widget class="QLabel" name="label_em_position_size">
                  <property name="maximumSize">
                   <size>
                    <width>16777215</width>
                    <height>20</height>
                   </size>
                  </property>
                  <property name="text">
                   <string>Endmember position size :</string>
                  </property>
                  <property name="alignment">
                   <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>
                  </property>
                 </widget>
                </item>
                <item>
                 <widget class="QSlider" name="horizontalSlider_em_position_size">
                  <property name="minimumSize">
                   <size>
                    <width>60</width>
                    <height>0</height>
                   </size>
                  </property>
                  <property name="toolTip">
                   <string>Endmember marker size

Adjust the visual size of endmember markers/points drawn on image overlays. This does not affect computations.</string>
                  </property>
                  <property name="minimum">
                   <number>0</number>
                  </property>
                  <property name="maximum">
                   <number>50</number>
                  </property>
                  <property name="value">
                   <number>2</number>
                  </property>
                  <property name="sliderPosition">
                   <number>2</number>
                  </property>
                  <property name="orientation">
                   <enum>Qt::Horizontal</enum>
                  </property>
                 </widget>
                </item>
               </layout>
              </item>
              <item>
               <layout class="QHBoxLayout" name="horizontalLayout_9">
                <item>
                 <widget class="QLabel" name="label_overlay_transparency">
                  <property name="maximumSize">
                   <size>
                    <width>16777215</width>
                    <height>20</height>
                   </size>
                  </property>
                  <property name="text">
                   <string>EM transparency :</string>
                  </property>
                  <property name="alignment">
                   <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>
                  </property>
                 </widget>
                </item>
                <item>
                 <widget class="QSlider" name="horizontalSlider_overlay_transparency">
                  <property name="minimumSize">
                   <size>
                    <width>60</width>
                    <height>0</height>
                   </size>
                  </property>
                  <property name="toolTip">
                   <string>Overlay transparency

Controls the alpha blending between the base RGB/grayscale preview and the abundance/selection overlays.
0%: overlay hidden. 100%: overlay fully opaque.</string>
                  </property>
                  <property name="maximum">
                   <number>100</number>
                  </property>
                  <property name="value">
                   <number>0</number>
                  </property>
                  <property name="sliderPosition">
                   <number>0</number>
                  </property>
                  <property name="orientation">
                   <enum>Qt::Horizontal</enum>
                  </property>
                 </widget>
                </item>
               </layout>
              </item>
             </layout>
            </widget>
           </widget>
          </item>
         </layout>
        </widget>
        <widget class="QWidget" name="tab_2">
         <attribute name="title">
          <string>Spectra</string>
         </attribute>
         <layout class="QGridLayout" name="gridLayout">
          <item row="1" column="0">
           <widget class="QCheckBox" name="checkBox_showLegend">
            <property name="toolTip">
             <string>Show legend

Toggle the display of the legend (endmember colors/labels) on the visualization panel.</string>
            </property>
            <property name="text">
             <string>Show legend</string>
            </property>
            <property name="checked">
             <bool>true</bool>
            </property>
           </widget>
          </item>
          <item row="0" column="0" colspan="2">
           <widget class="QComboBox" name="comboBox_endmembers_spectra">
            <property name="toolTip">
             <string>Spectrum to plot

Choose which spectrum to display in the plot:
- endmember mean / individual spectra
- a selected pixel/region spectrum
- loaded “one spectrum” / FTIR reference</string>
            </property>
            <item>
             <property name="text">
              <string>From library</string>
             </property>
            </item>
            <item>
             <property name="text">
              <string>Manual</string>
             </property>
            </item>
            <item>
             <property name="text">
              <string>Auto</string>
             </property>
            </item>
           </widget>
          </item>
          <item row="3" column="0" colspan="2">
           <widget class="QPushButton" name="pushButton_band_selection">
            <property name="toolTip">
             <string>Band selection

Enter band-selection mode to choose a subset of wavelengths to use for unmixing and/or visualization.
This is useful to test robustness or remove noisy/irrelevant spectral regions.</string>
            </property>
            <property name="text">
             <string>Band selection</string>
            </property>
            <property name="checkable">
             <bool>true</bool>
            </property>
           </widget>
          </item>
          <item row="4" column="0">
           <widget class="QCheckBox" name="checkBox_see_job_bands">
            <property name="toolTip">
             <string>Show job bands

If enabled, the spectrum plot highlights the wavelength bands saved with the selected job (when available).</string>
            </property>
            <property name="text">
             <string>See job bands</string>
            </property>
            <property name="checked">
             <bool>true</bool>
            </property>
           </widget>
          </item>
          <item row="1" column="1">
           <widget class="QCheckBox" name="checkBox_showGraph">
            <property name="toolTip">
             <string>Show spectra panel

Toggle the spectrum plot panel (endmembers, pixel spectra, FTIR). Disabling it frees space for images.</string>
            </property>
            <property name="text">
             <string>Show graph</string>
            </property>
            <property name="checked">
             <bool>true</bool>
            </property>
           </widget>
          </item>
          <item row="4" column="1">
           <widget class="QCheckBox" name="checkBox_see_actual_bands">
            <property name="toolTip">
             <string>Show current bands

If enabled, the spectrum plot highlights the currently active wavelength band mask used by the tool (current selection).</string>
            </property>
            <property name="text">
             <string>See actual selected bands</string>
            </property>
            <property name="checked">
             <bool>true</bool>
            </property>
           </widget>
          </item>
         </layout>
        </widget>
       </widget>
      </item>
      <item>
       <widget class="Line" name="line_8">
        <property name="orientation">
         <enum>Qt::Vertical</enum>
        </property>
       </widget>
      </item>
     </layout>
    </widget>
   </item>
   <item>
    <widget class="QFrame" name="frame_2">
     <property name="frameShape">
      <enum>QFrame::NoFrame</enum>
     </property>
     <property name="frameShadow">
      <enum>QFrame::Plain</enum>
     </property>
     <property name="lineWidth">
      <number>0</number>
     </property>
     <layout class="QHBoxLayout" name="horizontalLayout_3">
      <item>
       <widget class="QSplitter" name="splitter">
        <property name="orientation">
         <enum>Qt::Horizontal</enum>
        </property>
        <widget class="QWidget" name="viewer_left" native="true"/>
        <widget class="QWidget" name="viewer_right" native="true"/>
        <widget class="QWidget" name="spec_canvas" native="true"/>
       </widget>
      </item>
     </layout>
    </widget>
   </item>
  </layout>
 </widget>
 <resources/>
 <connections/>
</ui>
